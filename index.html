<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RTT Logger</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="preload" href="js/chart_handler.js" as="script">
    <link rel="preload" href="js/udp_client.js" as="script">

    <link rel="stylesheet" href="css/non-critical.css" media="print" onload="this.media='all'">
    <script>
        performance.mark('app-start');
    </script>
</head>
<body>
    <div class="container">
        <h1>RTT Logger</h1>
        <div class="controls">
            <button id="startTest">Start RTT Test</button>
            <button id="stopTest">Stop RTT Test</button>
        </div>
        <div class="stats">
            <div class="stat-box">
                <h3>Current RTT</h3>
                <p id="currentRTT">-- ms</p>
            </div>
            <div class="stat-box">
                <h3>Average RTT</h3>
                <p id="averageRTT">-- ms</p>
            </div>
            <div class="stat-box">
                <h3>Packet Loss</h3>
                <p id="packetLoss">0%</p>
            </div>
            <div class="stat-box">
                <h3>Connection Status</h3>
                <p id="connectionStatus">Disconnected</p>
            </div>
        </div>
        <div class="advanced-stats">
            <h2>Advanced Statistics</h2>
            <div class="stats-grid">
                <div class="stat-box">
                    <h3>Min RTT</h3>
                    <p id="minRTT">-- ms</p>
                </div>
                <div class="stat-box">
                    <h3>Max RTT</h3>
                    <p id="maxRTT">-- ms</p>
                </div>
                <div class="stat-box">
                    <h3>Median RTT</h3>
                    <p id="medianRTT">-- ms</p>
                </div>
                <div class="stat-box">
                    <h3>Standard Deviation</h3>
                    <p id="stdDev">-- ms</p>
                </div>
                <div class="stat-box">
                    <h3>Jitter</h3>
                    <p id="jitter">-- ms</p>
                </div>
                <div class="stat-box">
                    <h3>95th Percentile</h3>
                    <p id="percentile95">-- ms</p>
                </div>
                <div class="stat-box">
                    <h3>99th Percentile</h3>
                    <p id="percentile99">-- ms</p>
                </div>
            </div>
        </div>
        <div class="chart-container">
            <canvas id="rttChart"></canvas>
        </div>
    </div>
    <!-- TODO: Add additional statistics display:
         - Min/Max RTT
         - Packet loss rate
         - Connection status -->
    <script src="js/chart_handler.js"></script>
    <script src="js/udp_client.js"></script>
</body>
</html> 
